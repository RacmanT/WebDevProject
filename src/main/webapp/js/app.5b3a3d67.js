(function(t){function e(e){for(var n,o,s=e[0],c=e[1],u=e[2],l=0,m=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function o(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d0e9593":"1598a328","chunk-63cba412":"9ee8889c"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t);var u=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(l);var r=a[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,r[1](u)}a[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=u;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("e792"),r("0cdd");var n=r("2b0e"),a=r("5f5b");r("ab8b"),r("2dd8");n["default"].use(a["a"]);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Navbar"),r("router-view")],1)},o=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{variant:"light"}},[r("b-navbar-brand",{attrs:{to:{name:"Home"}}},[t._v("Trip Diary")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-form",[r("b-button",{directives:[{name:"show",rawName:"v-show",value:t.isSigned,expression:"isSigned"}],attrs:{right:"",variant:"outline-secondary"},on:{click:function(e){return e.preventDefault(),t.signOut.apply(null,arguments)}}},[t._v("Sign Out")])],1)],1)],1)],1)],1)},c=[],u=r("1da1"),l=r("5530"),p=(r("96cf"),r("ac1f"),r("5319"),r("b0c0"),r("4f60")),m=r("2f62"),d={name:"Navbar",methods:Object(l["a"])(Object(l["a"])({},Object(m["d"])(["setTargetTrip"])),{},{signOut:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.setTargetTrip({}),e.next=3,p["a"].auth().signOut();case 3:t.$router.replace({name:"Authentication"});case 4:case"end":return e.stop()}}),e)})))()}}),computed:{isSigned:function(){return"Authentication"!==this.$route.name}}},f=d,b=r("2877"),h=Object(b["a"])(f,s,c,!1,null,null,null),v=h.exports,g={components:{Navbar:v}},w=g,y=(r("5c0b"),Object(b["a"])(w,i,o,!1,null,null,null)),T=y.exports,j=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f")),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"my-4"},[r("h1",{staticClass:"my-4"},[t._v("Hi "+t._s(t.username))]),r("b-form-datepicker",{staticClass:"mb-2",attrs:{"menu-class":"w-100","calendar-width":"100%","date-info-fn":t.dateClass,"b-form-datepicker":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._l(t.filteredTrips(t.date),(function(e){return r("b-list-group",{key:e.id},[r("b-list-group-item",{attrs:{button:""},on:{click:function(r){return r.preventDefault(),t.viewTrip(e)}}},[t._v(t._s(e.name))])],1)})),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mt-4",attrs:{title:"Add a new trip",variant:"outline-success"},on:{click:function(e){return e.preventDefault(),t.addNewTrip()}}},[r("b-icon",{attrs:{icon:"plus",variant:"outline-success",scale:"1.3"}})],1)],2)},k=[],x=(r("d81d"),r("33d1"),r("ea98"),r("1276"),r("2ef0")),_={data:function(){return{date:"",username:""}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(m["b"])(["fetchTrips"])),Object(m["d"])(["setTargetTrip"])),{},{addNewTrip:function(){this.setTargetTrip({date:this.date,vehicle:"walk",path:[]}),this.$router.push({name:"Add trip"})},viewTrip:function(t){this.setTargetTrip(t),this.$router.push({name:"View trip"})},dateClass:function(t,e){return this.allTrips.map((function(t){return new Date(t.date)})).some((function(t){return t.toDateString()===e.toDateString()}))?"":"table-active"}}),computed:Object(m["c"])(["allTrips","filteredTrips","selectedTrip"]),created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchTrips();case 2:Object(x["isEmpty"])(t.selectedTrip)?Object(x["isEmpty"])(t.allTrips)?t.date=(new Date).toISOString().split("T")[0]:t.date=t.allTrips.at(-1).date:t.date=t.selectedTrip.date,t.username=p["a"].auth().currentUser.displayName;case 4:case"end":return e.stop()}}),e)})))()}},E=_,S=Object(b["a"])(E,O,k,!1,null,null,null),C=S.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"mt-5",staticStyle:{"max-width":"400px"},attrs:{"align-v":"center","align-h":"center"}},[r("b-card",{attrs:{"no-body":""}},[r("b-tabs",{attrs:{card:"","content-class":"mt-2 ",fill:""}},[r("b-tab",{attrs:{title:"Sign up",active:""}},[r("SignUpForm")],1),r("b-tab",{attrs:{title:"Sign in",lazy:""}},[r("SignInForm")],1)],1)],1),r("Footer")],1)},A=[],$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card-body",{staticClass:"m-3"},[r("h1",{staticClass:"mb-4 font-weight-light"},[t._v("Welcome!")]),r("b-form",{on:{submit:function(e){return e.preventDefault(),t.signIn.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Name:"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Enter name",required:"",state:t.validation},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),r("b-form-invalid-feedback",{attrs:{state:t.validation}},[t._v(" Name must be composed only of letters. ")])],1),r("b-form-group",{attrs:{label:"Email address:"}},[r("b-form-input",{attrs:{type:"email",placeholder:"Enter email",required:"",state:t.validation},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("b-form-group",{attrs:{label:"Password:"}},[r("b-form-input",{attrs:{type:"password",placeholder:"Enter password",required:"",state:t.validation},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),r("b-form-invalid-feedback",{attrs:{state:t.validation}},[t._v(" Password should be at least 6 characters long ")])],1),r("b-form-group",[r("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary",disabled:t.loading}},[t.loading?r("b-spinner",{attrs:{small:""}}):r("span",[t._v("Register")])],1)],1)],1)],1)},q=[],I=(r("466d"),r("e9c4"),{name:"SignInForm",data:function(){return{form:{name:"",email:"",password:""},loading:!1,validation:null}},methods:{signIn:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=/\S+@\S+\.\S+/,n=/^[A-Za-z]+$/,!(!t.form.name.match(n)||t.form.name.length<3||!t.form.email.match(r)||t.form.password.length<6)){e.next=5;break}return t.validation=!1,e.abrupt("return");case 5:return t.loading=!t.loading,a={username:t.form.name,email:t.form.email,password:t.form.password},e.next=9,fetch("".concat("/api","/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).catch((function(e){console.log(e.message),t.validation=!1}));case 9:return e.next=11,p["a"].auth().signInWithEmailAndPassword(t.form.email,t.form.password).catch((function(e){console.log(e.message),t.validation=!1}));case 11:t.loading=!t.loading,t.$router.replace({name:"Home"});case 13:case"end":return e.stop()}}),e)})))()}}}),N=I,P=Object(b["a"])(N,$,q,!1,null,null,null),D=P.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card-body",{staticClass:"m-3"},[r("h1",{staticClass:"mb-4 font-weight-light"},[t._v("Hi, there!")]),r("b-form",{on:{submit:function(e){return e.preventDefault(),t.signUp.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Email address:"}},[r("b-form-input",{attrs:{type:"email",placeholder:"Enter email",required:"",state:t.validation},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("b-form-group",{attrs:{label:"Password:"}},[r("b-form-input",{attrs:{type:"password",placeholder:"Enter password",required:"",state:t.validation},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),r("b-form-invalid-feedback",{attrs:{state:t.validation}},[t._v(" Wrong credentials ")])],1),r("b-form-group",[r("b-button",{staticClass:"mt-2",attrs:{type:"submit",variant:"primary",disabled:t.loading}},[t.loading?r("b-spinner",{attrs:{small:""}}):r("span",[t._v("Log in")])],1)],1)],1)],1)},z=[],F={name:"SignUpForm",data:function(){return{form:{email:"",password:"",remember:!1},loading:!1,validation:null}},methods:{signUp:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,p["a"].auth().signInWithEmailAndPassword(t.form.email,t.form.password).then((function(){return t.$router.replace({name:"Home"})})).catch((function(e){console.log(e.message),t.validation=!1})).finally(t.loading=!1);case 3:case"end":return e.stop()}}),e)})))()}}},H=F,M=Object(b["a"])(H,U,z,!1,null,null,null),B=M.exports,J=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},L=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer text-center fixed-bottom mt-3 py-1"},[r("div",{staticClass:"text-muted p-3"},[t._v(" © 2022 Copyright: "),r("a",{staticClass:"text-decoration-none text-muted",attrs:{href:"https://github.com/RacmanT",target:"_blank"}},[t._v("RacmanT")])])])}],W={},V=W,Z=Object(b["a"])(V,J,L,!1,null,null,null),G=Z.exports,K={components:{SignInForm:D,SignUpForm:B,Footer:G}},Q=K,X=Object(b["a"])(Q,R,A,!1,null,null,null),Y=X.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"mt-2"},[r("h1",{staticClass:"my-4"},[t._v(t._s(t.title))]),r("b-alert",{attrs:{show:t.isError,dismissible:"",variant:"danger"}},[t._v(" "+t._s(t.errorMsg)+" ")]),r("b-form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[r("b-form-radio-group",{model:{value:t.vehicle,callback:function(e){t.vehicle=e},expression:"vehicle"}},[r("b-form-radio",{attrs:{value:"walk",inline:""}},[r("i",{staticClass:"fas fa-walking fa-lg"})]),r("b-form-radio",{attrs:{value:"bycicle",inline:""}},[r("i",{staticClass:"fas fa-bicycle fa-lg"})]),r("b-form-radio",{attrs:{value:"car",inline:""}},[r("i",{staticClass:"fas fa-car-side fa-lg"})])],1),r("b-form-datepicker",{staticClass:"my-2",attrs:{required:"","menu-class":"w-100","calendar-width":"100%"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),r("b-form-input",{attrs:{type:"text",placeholder:"Enter a name for the trip",state:t.tripNameRequired(t.name),required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("b-table",{staticClass:"mt-4",attrs:{responsive:"",borderless:"",small:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(longitude)",fn:function(e){return[r("b-form-input",{attrs:{type:"number",step:".000001",size:"sm",required:"",min:"0"},model:{value:e.item.longitude,callback:function(r){t.$set(e.item,"longitude",r)},expression:"row.item.longitude"}})]}},{key:"cell(latitude)",fn:function(e){return[r("b-form-input",{attrs:{type:"number",step:".000001",size:"sm",required:"",min:"0"},model:{value:e.item.latitude,callback:function(r){t.$set(e.item,"latitude",r)},expression:"row.item.latitude"}})]}},{key:"cell(name)",fn:function(e){return[r("b-form-input",{attrs:{size:"sm",state:t.locationNameRequired(e.item),required:e.item.important&&!e.item.name},model:{value:e.item.name,callback:function(r){t.$set(e.item,"name",r)},expression:"row.item.name"}})]}},{key:"cell(important)",fn:function(e){return[r("b-form-checkbox",{attrs:{size:"sm",button:"","button-variant":"outline"},model:{value:e.item.important,callback:function(r){t.$set(e.item,"important",r)},expression:"row.item.important"}},[e.item.important?r("b-icon",{attrs:{icon:"star-fill",variant:"warning",scale:"1.3"}}):r("b-icon",{attrs:{icon:"star",scale:"1.3"}})],1)]}},{key:"cell(delete)",fn:function(e){return[r("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(r){return t.deletePosition(e.item)}}},[r("b-icon",{attrs:{icon:"x",variant:"outline-danger",scale:"1.3"}})],1)]}}])}),r("div",{staticClass:"w-100"},[r("b-button",{attrs:{pill:"",variant:"outline-success",disabled:t.lastRowIsEmpty},on:{click:t.addRow}},[r("b-icon",{attrs:{icon:"plus",variant:"outline-success",scale:"1.3"}})],1)],1),r("div",{staticClass:"float-right mt-3"},[r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mx-2",attrs:{variant:"danger",title:"Cancel and go back"},on:{click:function(e){return t.goBack()}}},[r("i",{staticClass:"fas fa-times"})]),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"success",type:"submit",title:"Save changes"}},[r("i",{staticClass:"far fa-save",attrs:{i:""}})])],1)],1)],1)},et=[],rt=(r("4de4"),{data:function(){return{name:"",vehicle:"walk",date:"",title:"",isError:!1,errorMsg:"",items:[{longitude:0,latitude:0,name:"",important:!1}],fields:[{key:"longitude",thStyle:{width:"20%"}},{key:"latitude",thStyle:{width:"20%"}},{key:"name",thStyle:{width:"40%"}},{key:"important",thStyle:{width:"10%"}},{key:"delete",label:"",thStyle:{width:"10%"}}]}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(m["b"])(["updateTrip","deleteTrip","addTrip"])),Object(m["d"])(["setTargetTrip"])),{},{goBack:function(){Object(x["isEmpty"])(this.selectedTrip.id)?this.$router.replace({name:"Home"}):this.$router.replace({name:"View trip"})},addRow:function(){this.lastRowIsEmpty||this.items.push({longitude:0,latitude:0,name:"",important:!1})},deletePosition:function(t){this.items=this.items.filter((function(e){return!Object(x["isEqual"])(e,t)}))},save:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Object(x["isEmpty"])(t.items)){e.next=4;break}return t.isError=!0,t.errorMsg="Path cannot be empty",e.abrupt("return");case 4:return r={id:t.selectedTrip.id,name:t.name,vehicle:t.vehicle,date:t.date,path:t.items},n=Object(x["isEmpty"])(t.selectedTrip)?t.addTrip(r):t.updateTrip(r),e.next=8,n.then((function(){t.$router.replace({name:"Home"})})).catch((function(e){console.log(e),t.isError=!0,t.errorMsg="Ooops something went wrong!"}));case 8:case"end":return e.stop()}}),e)})))()},locationNameRequired:function(t){return(!t.important||!Object(x["isEmpty"])(t.name))&&null},tripNameRequired:function(t){return!Object(x["isEmpty"])(t)&&null}}),computed:Object(l["a"])(Object(l["a"])({},Object(m["c"])(["selectedTrip"])),{},{lastRowIsEmpty:function(){return 0!==this.items.length&&(0===this.items.at(-1).longitude&&0===this.items.at(-1).latitude)}}),created:function(){Object(x["isEmpty"])(this.selectedTrip)&&this.$router.replace({name:"Home"}),this.title=Object(x["isEmpty"])(this.selectedTrip.id)?"Add trip":"Edit ".concat(this.selectedTrip.name),this.name=this.selectedTrip.name,this.date=this.selectedTrip.date,this.vehicle=this.selectedTrip.vehicle,this.items=Object(x["cloneDeep"])(this.selectedTrip.path)}}),nt=rt,at=Object(b["a"])(nt,tt,et,!1,null,"67f0bcb2",null),it=at.exports;n["default"].use(j["a"]);var ot=[{path:"/",name:"Home",component:C,meta:{requiresAuth:!0}},{path:"/",name:"Add trip",component:it,meta:{requiresAuth:!0}},{path:"/",name:"View trip",component:function(){return r.e("chunk-2d0e9593").then(r.bind(null,"8cc5"))},meta:{requiresAuth:!0}},{path:"/",name:"Authentication",component:Y,meta:{requiresAuth:!1}},{path:"*",name:"NotFound",component:function(){return r.e("chunk-63cba412").then(r.bind(null,"9703"))}}],st=new j["a"]({routes:ot});st.beforeEach((function(t,e,r){"NotFound"===t.name?r():t.meta.requiresAuth&&!p["a"].auth().currentUser?st.push({name:"Authentication"}).catch((function(){})):!t.meta.requiresAuth&&p["a"].auth().currentUser?st.push({name:"Home"}).catch((function(){})):r()}));var ct=st,ut=(r("2229"),r("6cc5"),r("15f5"),r("7051"),r("e11e")),lt=r.n(ut),pt=r("b1e0"),mt=(r("5df9"),r("c740"),r("a434"),{trips:[],targetTrip:{},tripTable:[]}),dt={allTrips:function(t){return t.trips},filteredTrips:function(t){return function(e){return t.trips.filter((function(t){return t.date===e}))}},selectedTrip:function(t){return t.targetTrip},tripTable:function(t){return Object(x["isEmpty"])(t.targetTrip)?null:t.targetTrip.path.filter((function(t){return t.important})).map((function(t){return Object(x["omit"])(t,["important"])}))}},ft={fetchTrips:function(t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,p["a"].auth().currentUser.getIdToken();case 3:return n=e.sent,e.next=6,fetch("".concat("/api","/trip"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 6:return a=e.sent,e.next=9,a.json();case 9:i=e.sent,r("setTrips",i);case 11:case"end":return e.stop()}}),e)})))()},addTrip:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,p["a"].auth().currentUser.getIdToken();case 3:return a=r.sent,r.next=6,fetch("".concat("/api","/trip"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)});case 6:return i=r.sent,r.next=9,i.json();case 9:o=r.sent,n("newTrip",o);case 11:case"end":return r.stop()}}),r)})))()},updateTrip:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,p["a"].auth().currentUser.getIdToken();case 3:return a=r.sent,r.next=6,fetch("".concat("/api","/trip"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)});case 6:return i=r.sent,r.next=9,i.json();case 9:o=r.sent,n("updateTrip",o);case 11:case"end":return r.stop()}}),r)})))()},deleteTrip:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,p["a"].auth().currentUser.getIdToken();case 3:return a=r.sent,r.next=6,fetch("".concat("/api","/trip"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)});case 6:return i=r.sent,r.next=9,i.json();case 9:o=r.sent,n("removeTrip",o);case 11:case"end":return r.stop()}}),r)})))()}},bt={setTrips:function(t,e){return t.trips=e},newTrip:function(t,e){return t.trips.push(e)},updateTrip:function(t,e){var r=t.trips.findIndex((function(t){return Object(x["isEqual"])(t,e)}));-1!==r&&t.trips.splice(r,1,e)},removeTrip:function(t,e){return t.trips=t.trips.filter((function(t){return e.id!==t.id}))},setTargetTrip:function(t,e){return t.targetTrip=e}},ht={state:mt,getters:dt,actions:ft,mutations:bt},vt={user:null,token:""},gt={},wt={},yt={},Tt={state:vt,getters:gt,actions:wt,mutations:yt},jt=r("0e44");n["default"].use(m["a"]);var Ot=new m["a"].Store({state:{},mutations:{},actions:{},modules:{trips:ht,auth:Tt},plugins:[Object(jt["a"])()]});r("256a"),r("1862");delete lt.a.Icon.Default.prototype._getIconUrl,lt.a.Icon.Default.mergeOptions({iconRetinaUrl:r("584d"),iconUrl:r("6397e"),shadowUrl:r("e2b9")}),n["default"].config.productionTip=!1;var kt,xt={apiKey:"AIzaSyDFTDljeRfq1HgZC5LxgFSX1bZwLG2DvzQ",authDomain:"webdev2021-61701.firebaseapp.com",projectId:"webdev2021-61701",storageBucket:"webdev2021-61701.appspot.com",messagingSenderId:"982645710338",appId:"1:982645710338:web:f3ce18bb8d2635d324511b"};p["a"].initializeApp(xt),p["a"].auth().onAuthStateChanged((function(){kt||(kt=new n["default"]({router:ct,store:Ot,render:function(t){return t(T)}}).$mount("#app"))})),n["default"].use(pt["a"])},"5c0b":function(t,e,r){"use strict";r("9c0c")},"9c0c":function(t,e,r){}});
//# sourceMappingURL=app.5b3a3d67.js.map